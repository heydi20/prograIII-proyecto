<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Formulario de Reseñas</title>
</head>
<body>
<h1>Formulario de Reseñas</h1>

<form th:action="@{/guardarResena}" th:object="${resenas}" method="post">

    <input type="hidden" th:field="*{id}" />

    <div>
        <label for="comentario">Comentario:</label>
        <textarea id="comentario" th:field="*{comentario}" required></textarea>
        <span th:if="${#fields.hasErrors('comentario')}" th:errors="*{comentario}"></span>
    </div>

    <div>
        <label for="fechacomentario">Fecha de Comentario:</label>
        <input type="date" id="fechacomentario" th:field="*{fechacomentario}" required />
        <span th:if="${#fields.hasErrors('fechacomentario')}" th:errors="*{fechacomentario}"></span>
    </div>

    <div>
        <label for="calificacion">Calificación (1-5):</label>
        <input type="number" id="calificacion" th:field="*{calificacion}" min="1" max="5" required />
        <span th:if="${#fields.hasErrors('calificacion')}" th:errors="*{calificacion}"></span>
    </div>

    <div>
        <label for="cliente">Cliente:</label>
        <select id="cliente" th:field="*{cliente.id}" required>
            <option value="">Seleccione un cliente</option>
            <option th:each="cliente : ${clientes}"
                    th:value="${cliente.id}"
                    th:text="${cliente.nombre}">
            </option>
        </select>
        <span th:if="${#fields.hasErrors('cliente')}" th:errors="*{cliente}"></span>
    </div>

    <div>
        <label for="proveedor">Proveedor:</label>
        <select id="proveedor" th:field="*{proveedor.id}" required>
            <option value="">Seleccione un proveedor</option>
            <option th:each="proveedor : ${proveedores}"
                    th:value="${proveedor.id}"
                    th:text="${proveedor.nombre}">
            </option>
        </select>
        <span th:if="${#fields.hasErrors('proveedor')}" th:errors="*{proveedor}"></span>
    </div>

    <div>
        <button type="submit">Guardar Reseña</button>
    </div>
</form>

<a href="/resenas">Volver a la lista de reseñas</a>
</body>
</html>
